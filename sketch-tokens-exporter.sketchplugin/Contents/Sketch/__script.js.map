{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://exports/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://exports/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://exports/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://exports/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://exports/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://exports/./node_modules/@babel/runtime/helpers/typeof.js","webpack://exports/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://exports/./node_modules/@skpm/fs/index.js","webpack://exports/./node_modules/@skpm/fs/utils.js","webpack://exports/./node_modules/hex-rgb/index.js","webpack://exports/./node_modules/rgb-hex/index.js","webpack://exports/./src/script.js","webpack://exports/external \"buffer\"","webpack://exports/external \"os\"","webpack://exports/external \"path\"","webpack://exports/external \"sketch\"","webpack://exports/external \"sketch/dom\"","webpack://exports/external \"util\""],"names":["fs","require","os","path","desktopDir","join","homedir","parentPath","variablePrefix","keyToDelete","separator","result","colors","externalShadows","internalShadows","gradients","fontSizes","borderPosition","gradientTypeValue","gradientCircleType","imageFillType","sketch","Image","doc","context","document","getSelectedDocument","artboard","Artboard","data","sketchObject","documentData","image","designTokensList","styleDictionaryArray","colorTokens","swatches","forEach","swatch","swatchColor","setColor","color","push","name","substring","lastIndexOf","indexOf","createNestedObject","split","value","replace","layerStyles","sharedLayerStyles","arrayLayerStyleIDs","map","sharedstyle","arrayLayerStyleNames","arrayLayerStyleStyles","layerStylesOrdered","sort","left","right","stylesString","JSON","stringify","layerStylesTokensList","layerStyleTokens","borderPositions","layerStylesComplete","shadowStyles","shadowCounter","sharedStyle","shadows","style","shadow","currentShadow","enabled","setShadowDetails","checkTokenValue","currentShadowName","createCouples","innerShadowStyles","innerShadows","gradientStyles","counterLinear","counterRadial","counterAngular","fills","counter","fill","fillType","currentGradient","gradientType","gradient","currentGradientName","toString","setGradientDetails","gradientStylesCheck","checkToken","currentStyle","styleColors","styleBorderColors","styleBorderPosition","styleBorderSize","styleShadowToken","styleShadow","styleInnerShadows","fillGradientStyles","fillCount","currentColor","checkColor","currentVariable","getColor","setStyleDictionaryVariable","gradientName","Object","entries","key","isDeepStrictEqual","includes","patternType","pattern","patternScale","tileScale","patternImage","_object","treeAsDictionary","sha1","patternFillType","borders","border","currentBorderPosition","position","toLowerCase","isItemInArray","thickness","shadowCount","checkShadows","getShadow","assign","textStyles","sharedTextStyles","arrayTextStyleIDs","arrayTextStyleNames","arrayTextStyleStyles","textStylesOrdered","textString","textDecorationsOptions","textCasesOptions","textAlignmentOptions","fonts","fontSize","fontWeight","fontAlignment","fontVAlignment","fontKerning","fontLineHeight","fontParagraphSpacing","textTransform","fontAxes","textStylesTokensList","textStyleTokens","textStylesComplete","sizeValues","textStyleForSize","size","length","a","b","i","fontSizeName","textStyle","fontFamily","styleFontFamily","styleFontFamilyName","styleFontSize","styleFontForcedStyle","styleFontColor","styleFontWeight","styleFontAlignment","styleFontVAlignment","styleFontKerning","styleFontLineHeight","styleFontParagraphSpacing","styleTextTransform","styleFontAxes","currentStyleFont","currentStyleFontKey","replaceAll","currentStyleFontSize","getFontSize","currentStyleFontColor","textColor","currentStyleFontWeight","alignment","undefined","currentStyleFontAlignment","setStyleToken","keys","reduce","colorsObj","isEmptyObj","gradientObj","shadowsObj","innerShadowsObj","fontsObj","fontSizeObj","fontWeightObj","fontAlignmentObj","fontVAlignmentObj","fontKerningObj","fontLineHeightObj","fontParagraphSpacingObj","textTransformObj","fontAxesObj","borderPositionsObj","layerStylesObj","textStylesObj","json","objectectLowerCase","writeFileSync","UI","message","error","object","currentItem","check","values","array","type","swatchColorHEX","swatchColorRGBA","hexAToRGBA","suffixNeeded","suffix","keyName","prefix","token","getKeyByValue","shadowType","blur","x","y","spread","currentObject","aspectRatio","degree","Math","round","getAngleDeg","from","to","stops","stopCounter","stopList","stop","currentStop","stopName","currentPosition","styleDictionaryVariable","ax","ay","bx","by","angleRad","atan","angleDeg","PI","hex","r","g","toFixed","item","isObject","obj","prototype","call","lowerCaseObjectKeys","fromEntries","objectKeyMapper","val","newObject","lowercaseObjectValues","keyValue","discard","find","lastKey","arguments","pop","isEmpty"],"mappings":";;;;;;;;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;;AAEA;AACA;;AAEA,iH;;;;;;;;;;;ACVA;AACA;AACA;;AAEA,+G;;;;;;;;;;;ACJA,uBAAuB,mBAAO,CAAC,wFAAuB;;AAEtD;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACNA;AACA;AACA;;AAEA,gH;;;;;;;;;;;ACJA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,2BAA2B,+BAA+B;AAC1D;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA,qH;;;;;;;;;;;AC9BA;AACA;AACA;;AAEA,gH;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACJA,qBAAqB,mBAAO,CAAC,oFAAqB;;AAElD,2BAA2B,mBAAO,CAAC,gGAA2B;;AAE9D,iCAAiC,mBAAO,CAAC,4GAAiC;;AAE1E,sBAAsB,mBAAO,CAAC,sFAAsB;;AAEpD;AACA;AACA;;AAEA,8G;;;;;;;;;;;ACZA,wBAAwB,mBAAO,CAAC,0FAAwB;;AAExD,sBAAsB,mBAAO,CAAC,sFAAsB;;AAEpD,iCAAiC,mBAAO,CAAC,4GAAiC;;AAE1E,wBAAwB,mBAAO,CAAC,0FAAwB;;AAExD;AACA;AACA;;AAEA,kH;;;;;;;;;;;ACZA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA,uG;;;;;;;;;;;ACVA,uBAAuB,mBAAO,CAAC,wFAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2H;;;;;;;;;;;ACXA;AACA;AACA,aAAa,mBAAO,CAAC,sBAAQ;AAC7B,YAAY,mBAAO,CAAC,iDAAS;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACpbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,sBAAsB,mBAAO,CAAC,iDAAS;AACvC;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9JA;AAAA;AAAA;AACA,2BAA2B,cAAc,EAAE,EAAE,GAAG,cAAc;AAC9D,2BAA2B,cAAc,EAAE,EAAE,IAAI,cAAc,EAAE,EAAE;AACnE,qCAAqC,cAAc;AACnD,oCAAoC,aAAa,KAAK,aAAa;;AAEpD,iCAAiC;AAChD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,+CAA+C,iCAAiC;AAChF,gBAAgB,IAAI,GAAG,MAAM,GAAG,KAAK,EAAE,YAAY;AACnD;;AAEA,SAAS;AACT;;;;;;;;;;;;;AC5Ca;AACb;AACA;AACA;;AAEA;AACA,kDAAkD,IAAI;AACtD,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"__script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/script.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayWithoutHoles = require(\"./arrayWithoutHoles.js\");\n\nvar iterableToArray = require(\"./iterableToArray.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread.js\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO: async. Should probably be done with NSFileHandle and some notifications\n// TODO: file descriptor. Needs to be done with NSFileHandle\nvar Buffer = require(\"buffer\").Buffer;\nvar utils = require(\"./utils\");\nvar parseStat = utils.parseStat;\nvar fsError = utils.fsError;\nvar fsErrorForPath = utils.fsErrorForPath;\nvar encodingFromOptions = utils.encodingFromOptions;\nvar NOT_IMPLEMENTED = utils.NOT_IMPLEMENTED;\n\nmodule.exports.constants = {\n  F_OK: 0,\n  R_OK: 4,\n  W_OK: 2,\n  X_OK: 1,\n};\n\nmodule.exports.access = NOT_IMPLEMENTED(\"access\");\n\nmodule.exports.accessSync = function (path, mode) {\n  mode = mode | 0;\n  var fileManager = NSFileManager.defaultManager();\n\n  switch (mode) {\n    case 0:\n      canAccess = module.exports.existsSync(path);\n      break;\n    case 1:\n      canAccess = Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 2:\n      canAccess = Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 3:\n      canAccess =\n        Boolean(Number(fileManager.isExecutableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 4:\n      canAccess = Boolean(Number(fileManager.isReadableFileAtPath(path)));\n      break;\n    case 5:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n    case 6:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path)));\n      break;\n    case 7:\n      canAccess =\n        Boolean(Number(fileManager.isReadableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isWritableFileAtPath(path))) &&\n        Boolean(Number(fileManager.isExecutableFileAtPath(path)));\n      break;\n  }\n\n  if (!canAccess) {\n    throw new Error(\"Can't access \" + String(path));\n  }\n};\n\nmodule.exports.appendFile = NOT_IMPLEMENTED(\"appendFile\");\n\nmodule.exports.appendFileSync = function (file, data, options) {\n  if (!module.exports.existsSync(file)) {\n    return module.exports.writeFileSync(file, data, options);\n  }\n\n  var handle = NSFileHandle.fileHandleForWritingAtPath(file);\n  handle.seekToEndOfFile();\n\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  handle.writeData(nsdata);\n};\n\nmodule.exports.chmod = NOT_IMPLEMENTED(\"chmod\");\n\nmodule.exports.chmodSync = function (path, mode) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFilePosixPermissions: mode,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.chown = NOT_IMPLEMENTED(\"chown\");\nmodule.exports.chownSync = NOT_IMPLEMENTED(\"chownSync\");\n\nmodule.exports.close = NOT_IMPLEMENTED(\"close\");\nmodule.exports.closeSync = NOT_IMPLEMENTED(\"closeSync\");\n\nmodule.exports.copyFile = NOT_IMPLEMENTED(\"copyFile\");\n\nmodule.exports.copyFileSync = function (path, dest, flags) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.copyItemAtPath_toPath_error(path, dest, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.createReadStream = NOT_IMPLEMENTED(\"createReadStream\");\nmodule.exports.createWriteStream = NOT_IMPLEMENTED(\"createWriteStream\");\n\nmodule.exports.exists = NOT_IMPLEMENTED(\"exists\");\n\nmodule.exports.existsSync = function (path) {\n  var fileManager = NSFileManager.defaultManager();\n  return Boolean(Number(fileManager.fileExistsAtPath(path)));\n};\n\nmodule.exports.fchmod = NOT_IMPLEMENTED(\"fchmod\");\nmodule.exports.fchmodSync = NOT_IMPLEMENTED(\"fchmodSync\");\nmodule.exports.fchown = NOT_IMPLEMENTED(\"fchown\");\nmodule.exports.fchownSync = NOT_IMPLEMENTED(\"fchownSync\");\nmodule.exports.fdatasync = NOT_IMPLEMENTED(\"fdatasync\");\nmodule.exports.fdatasyncSync = NOT_IMPLEMENTED(\"fdatasyncSync\");\nmodule.exports.fstat = NOT_IMPLEMENTED(\"fstat\");\nmodule.exports.fstatSync = NOT_IMPLEMENTED(\"fstatSync\");\nmodule.exports.fsync = NOT_IMPLEMENTED(\"fsync\");\nmodule.exports.fsyncSync = NOT_IMPLEMENTED(\"fsyncSync\");\nmodule.exports.ftruncate = NOT_IMPLEMENTED(\"ftruncate\");\nmodule.exports.ftruncateSync = NOT_IMPLEMENTED(\"ftruncateSync\");\nmodule.exports.futimes = NOT_IMPLEMENTED(\"futimes\");\nmodule.exports.futimesSync = NOT_IMPLEMENTED(\"futimesSync\");\n\nmodule.exports.lchmod = NOT_IMPLEMENTED(\"lchmod\");\nmodule.exports.lchmodSync = NOT_IMPLEMENTED(\"lchmodSync\");\nmodule.exports.lchown = NOT_IMPLEMENTED(\"lchown\");\nmodule.exports.lchownSync = NOT_IMPLEMENTED(\"lchownSync\");\n\nmodule.exports.link = NOT_IMPLEMENTED(\"link\");\n\nmodule.exports.linkSync = function (existingPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.linkItemAtPath_toPath_error(existingPath, newPath, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(existingPath, undefined, err.value());\n  }\n};\n\nmodule.exports.lstat = NOT_IMPLEMENTED(\"lstat\");\n\nmodule.exports.lstatSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.attributesOfItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return parseStat(result);\n};\n\nmodule.exports.mkdir = NOT_IMPLEMENTED(\"mkdir\");\n\nmodule.exports.mkdirSync = function (path, options) {\n  var mode = 0o777;\n  var recursive = false;\n  if (options && options.mode) {\n    mode = options.mode;\n  }\n  if (options && options.recursive) {\n    recursive = options.recursive;\n  }\n  if (typeof options === \"number\") {\n    mode = options;\n  }\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.createDirectoryAtPath_withIntermediateDirectories_attributes_error(\n    path,\n    recursive,\n    {\n      NSFilePosixPermissions: mode,\n    },\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.mkdtemp = NOT_IMPLEMENTED(\"mkdtemp\");\n\nmodule.exports.mkdtempSync = function (path) {\n  function makeid() {\n    var text = \"\";\n    var possible =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for (var i = 0; i < 6; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n  }\n  var tempPath = path + makeid();\n  module.exports.mkdirSync(tempPath);\n  return tempPath;\n};\n\nmodule.exports.open = NOT_IMPLEMENTED(\"open\");\nmodule.exports.openSync = NOT_IMPLEMENTED(\"openSync\");\n\nmodule.exports.read = NOT_IMPLEMENTED(\"read\");\n\nmodule.exports.readdir = NOT_IMPLEMENTED(\"readdir\");\n\nmodule.exports.readdirSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n  var fileManager = NSFileManager.defaultManager();\n  var paths = fileManager.subpathsAtPath(path);\n  var arr = [];\n  for (var i = 0; i < paths.length; i++) {\n    var pathName = paths[i];\n    arr.push(encoding === \"buffer\" ? Buffer.from(pathName) : String(pathName));\n  }\n  return arr;\n};\n\nmodule.exports.readFile = NOT_IMPLEMENTED(\"readFile\");\n\nmodule.exports.readFileSync = function (path, options) {\n  var encoding = encodingFromOptions(options, \"buffer\");\n  var fileManager = NSFileManager.defaultManager();\n  var data = fileManager.contentsAtPath(path);\n  if (!data) {\n    throw fsErrorForPath(path, false);\n  }\n\n  var buffer = Buffer.from(data);\n\n  if (encoding === \"buffer\") {\n    return buffer;\n  } else if (encoding === \"NSData\") {\n    return buffer.toNSData();\n  } else {\n    return buffer.toString(encoding);\n  }\n};\n\nmodule.exports.readlink = NOT_IMPLEMENTED(\"readlink\");\n\nmodule.exports.readlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.destinationOfSymbolicLinkAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n\n  return String(result);\n};\n\nmodule.exports.readSync = NOT_IMPLEMENTED(\"readSync\");\n\nmodule.exports.realpath = NOT_IMPLEMENTED(\"realpath\");\nmodule.exports.realpath.native = NOT_IMPLEMENTED(\"realpath.native\");\n\nmodule.exports.realpathSync = function (path) {\n  return String(\n    NSString.stringWithString(path).stringByResolvingSymlinksInPath()\n  );\n};\n\nmodule.exports.realpathSync.native = NOT_IMPLEMENTED(\"realpathSync.native\");\n\nmodule.exports.rename = NOT_IMPLEMENTED(\"rename\");\n\nmodule.exports.renameSync = function (oldPath, newPath) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  fileManager.moveItemAtPath_toPath_error(oldPath, newPath, err);\n\n  var error = err.value();\n\n  if (error !== null) {\n    // if there is already a file, we need to overwrite it\n    if (\n      String(error.domain()) === \"NSCocoaErrorDomain\" &&\n      Number(error.code()) === 516\n    ) {\n      var err2 = MOPointer.alloc().init();\n      fileManager.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(\n        NSURL.fileURLWithPath(newPath),\n        NSURL.fileURLWithPath(oldPath),\n        null,\n        NSFileManagerItemReplacementUsingNewMetadataOnly,\n        null,\n        err2\n      );\n      if (err2.value() !== null) {\n        throw fsErrorForPath(oldPath, undefined, err2.value());\n      }\n    } else {\n      throw fsErrorForPath(oldPath, undefined, error);\n    }\n  }\n};\n\nmodule.exports.rmdir = NOT_IMPLEMENTED(\"rmdir\");\n\nmodule.exports.rmdirSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (!isDirectory) {\n    throw fsError(\"ENOTDIR\", {\n      path: path,\n      syscall: \"rmdir\",\n    });\n  }\n  fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, true, err.value(), \"rmdir\");\n  }\n};\n\nmodule.exports.stat = NOT_IMPLEMENTED(\"stat\");\n\n// the only difference with lstat is that we resolve symlinks\n//\n// > lstat() is identical to stat(), except that if pathname is a symbolic\n// > link, then it returns information about the link itself, not the file\n// > that it refers to.\n// http://man7.org/linux/man-pages/man2/lstat.2.html\nmodule.exports.statSync = function (path) {\n  return module.exports.lstatSync(module.exports.realpathSync(path));\n};\n\nmodule.exports.symlink = NOT_IMPLEMENTED(\"symlink\");\n\nmodule.exports.symlinkSync = function (target, path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.createSymbolicLinkAtPath_withDestinationPath_error(\n    path,\n    target,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw new Error(err.value());\n  }\n};\n\nmodule.exports.truncate = NOT_IMPLEMENTED(\"truncate\");\n\nmodule.exports.truncateSync = function (path, len) {\n  var hFile = NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);\n  hFile.truncateFileAtOffset(len || 0);\n  hFile.closeFile();\n};\n\nmodule.exports.unlink = NOT_IMPLEMENTED(\"unlink\");\n\nmodule.exports.unlinkSync = function (path) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var isDirectory = module.exports.lstatSync(path).isDirectory();\n  if (isDirectory) {\n    throw fsError(\"EPERM\", {\n      path: path,\n      syscall: \"unlink\",\n    });\n  }\n  var result = fileManager.removeItemAtPath_error(path, err);\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, false, err.value());\n  }\n};\n\nmodule.exports.unwatchFile = NOT_IMPLEMENTED(\"unwatchFile\");\n\nmodule.exports.utimes = NOT_IMPLEMENTED(\"utimes\");\n\nmodule.exports.utimesSync = function (path, aTime, mTime) {\n  var err = MOPointer.alloc().init();\n  var fileManager = NSFileManager.defaultManager();\n  var result = fileManager.setAttributes_ofItemAtPath_error(\n    {\n      NSFileModificationDate: aTime,\n    },\n    path,\n    err\n  );\n\n  if (err.value() !== null) {\n    throw fsErrorForPath(path, undefined, err.value());\n  }\n};\n\nmodule.exports.watch = NOT_IMPLEMENTED(\"watch\");\nmodule.exports.watchFile = NOT_IMPLEMENTED(\"watchFile\");\n\nmodule.exports.write = NOT_IMPLEMENTED(\"write\");\n\nmodule.exports.writeFile = NOT_IMPLEMENTED(\"writeFile\");\n\nmodule.exports.writeFileSync = function (path, data, options) {\n  var encoding = encodingFromOptions(options, \"utf8\");\n\n  var nsdata = Buffer.from(\n    data,\n    encoding === \"NSData\" || encoding === \"buffer\" ? undefined : encoding\n  ).toNSData();\n\n  nsdata.writeToFile_atomically(path, true);\n};\n\nmodule.exports.writeSync = NOT_IMPLEMENTED(\"writeSync\");\n","module.exports.parseStat = function parseStat(result) {\n  return {\n    dev: String(result.NSFileDeviceIdentifier),\n    // ino: 48064969, The file system specific \"Inode\" number for the file.\n    mode: result.NSFileType | result.NSFilePosixPermissions,\n    nlink: Number(result.NSFileReferenceCount),\n    uid: String(result.NSFileOwnerAccountID),\n    gid: String(result.NSFileGroupOwnerAccountID),\n    // rdev: 0, A numeric device identifier if the file is considered \"special\".\n    size: Number(result.NSFileSize),\n    // blksize: 4096, The file system block size for i/o operations.\n    // blocks: 8, The number of blocks allocated for this file.\n    atimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    mtimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    ctimeMs:\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000,\n    birthtimeMs:\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000,\n    atime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ), // the 0.5 comes from the node source. Not sure why it's added but in doubt...\n    mtime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    ctime: new Date(\n      Number(result.NSFileModificationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    birthtime: new Date(\n      Number(result.NSFileCreationDate.timeIntervalSince1970()) * 1000 + 0.5\n    ),\n    isBlockDevice: function () {\n      return result.NSFileType === NSFileTypeBlockSpecial;\n    },\n    isCharacterDevice: function () {\n      return result.NSFileType === NSFileTypeCharacterSpecial;\n    },\n    isDirectory: function () {\n      return result.NSFileType === NSFileTypeDirectory;\n    },\n    isFIFO: function () {\n      return false;\n    },\n    isFile: function () {\n      return result.NSFileType === NSFileTypeRegular;\n    },\n    isSocket: function () {\n      return result.NSFileType === NSFileTypeSocket;\n    },\n    isSymbolicLink: function () {\n      return result.NSFileType === NSFileTypeSymbolicLink;\n    },\n  };\n};\n\nvar ERRORS = {\n  EPERM: {\n    message: \"operation not permitted\",\n    errno: -1,\n  },\n  ENOENT: {\n    message: \"no such file or directory\",\n    errno: -2,\n  },\n  EACCES: {\n    message: \"permission denied\",\n    errno: -13,\n  },\n  ENOTDIR: {\n    message: \"not a directory\",\n    errno: -20,\n  },\n  EISDIR: {\n    message: \"illegal operation on a directory\",\n    errno: -21,\n  },\n};\n\nfunction fsError(code, options) {\n  var error = new Error(\n    code +\n      \": \" +\n      ERRORS[code].message +\n      \", \" +\n      (options.syscall || \"\") +\n      (options.path ? \" '\" + options.path + \"'\" : \"\")\n  );\n\n  Object.keys(options).forEach(function (k) {\n    error[k] = options[k];\n  });\n\n  error.code = code;\n  error.errno = ERRORS[code].errno;\n\n  return error;\n}\n\nmodule.exports.fsError = fsError;\n\nmodule.exports.fsErrorForPath = function fsErrorForPath(\n  path,\n  shouldBeDir,\n  err,\n  syscall\n) {\n  var fileManager = NSFileManager.defaultManager();\n  var doesExist = fileManager.fileExistsAtPath(path);\n  if (!doesExist) {\n    return fsError(\"ENOENT\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  var isReadable = fileManager.isReadableFileAtPath(path);\n  if (!isReadable) {\n    return fsError(\"EACCES\", {\n      path: path,\n      syscall: syscall || \"open\",\n    });\n  }\n  if (typeof shouldBeDir !== \"undefined\") {\n    var isDirectory = require(\"./index\").lstatSync(path).isDirectory();\n    if (isDirectory && !shouldBeDir) {\n      return fsError(\"EISDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    } else if (!isDirectory && shouldBeDir) {\n      return fsError(\"ENOTDIR\", {\n        path: path,\n        syscall: syscall || \"read\",\n      });\n    }\n  }\n  return new Error(err || \"Unknown error while manipulating \" + path);\n};\n\nmodule.exports.encodingFromOptions = function encodingFromOptions(\n  options,\n  defaultValue\n) {\n  return options && options.encoding\n    ? String(options.encoding)\n    : options\n    ? String(options)\n    : defaultValue;\n};\n\nmodule.exports.NOT_IMPLEMENTED = function NOT_IMPLEMENTED(name) {\n  return function () {\n    throw new Error(\n      \"fs.\" +\n        name +\n        \" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs\"\n    );\n  };\n};\n","const hexCharacters = 'a-f\\\\d';\nconst match3or4Hex = `#?[${hexCharacters}]{3}[${hexCharacters}]?`;\nconst match6or8Hex = `#?[${hexCharacters}]{6}([${hexCharacters}]{2})?`;\nconst nonHexChars = new RegExp(`[^#${hexCharacters}]`, 'gi');\nconst validHexSize = new RegExp(`^${match3or4Hex}$|^${match6or8Hex}$`, 'i');\n\nexport default function hexRgb(hex, options = {}) {\n\tif (typeof hex !== 'string' || nonHexChars.test(hex) || !validHexSize.test(hex)) {\n\t\tthrow new TypeError('Expected a valid hex string');\n\t}\n\n\thex = hex.replace(/^#/, '');\n\tlet alphaFromHex = 1;\n\n\tif (hex.length === 8) {\n\t\talphaFromHex = Number.parseInt(hex.slice(6, 8), 16) / 255;\n\t\thex = hex.slice(0, 6);\n\t}\n\n\tif (hex.length === 4) {\n\t\talphaFromHex = Number.parseInt(hex.slice(3, 4).repeat(2), 16) / 255;\n\t\thex = hex.slice(0, 3);\n\t}\n\n\tif (hex.length === 3) {\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n\t}\n\n\tconst number = Number.parseInt(hex, 16);\n\tconst red = number >> 16;\n\tconst green = (number >> 8) & 255;\n\tconst blue = number & 255;\n\tconst alpha = typeof options.alpha === 'number' ? options.alpha : alphaFromHex;\n\n\tif (options.format === 'array') {\n\t\treturn [red, green, blue, alpha];\n\t}\n\n\tif (options.format === 'css') {\n\t\tconst alphaString = alpha === 1 ? '' : ` / ${Number((alpha * 100).toFixed(2))}%`;\n\t\treturn `rgb(${red} ${green} ${blue}${alphaString})`;\n\t}\n\n\treturn {red, green, blue, alpha};\n}\n","'use strict';\n/* eslint-disable no-mixed-operators */\nmodule.exports = (red, green, blue, alpha) => {\n\tconst isPercent = (red + (alpha || '')).toString().includes('%');\n\n\tif (typeof red === 'string') {\n\t\t[red, green, blue, alpha] = red.match(/(0?\\.?\\d{1,3})%?\\b/g).map(Number);\n\t} else if (alpha !== undefined) {\n\t\talpha = parseFloat(alpha);\n\t}\n\n\tif (typeof red !== 'number' ||\n\t\ttypeof green !== 'number' ||\n\t\ttypeof blue !== 'number' ||\n\t\tred > 255 ||\n\t\tgreen > 255 ||\n\t\tblue > 255\n\t) {\n\t\tthrow new TypeError('Expected three numbers below 256');\n\t}\n\n\tif (typeof alpha === 'number') {\n\t\tif (!isPercent && alpha >= 0 && alpha <= 1) {\n\t\t\talpha = Math.round(255 * alpha);\n\t\t} else if (isPercent && alpha >= 0 && alpha <= 100) {\n\t\t\talpha = Math.round(255 * alpha / 100);\n\t\t} else {\n\t\t\tthrow new TypeError(`Expected alpha value (${alpha}) as a fraction or percentage`);\n\t\t}\n\n\t\talpha = (alpha | 1 << 8).toString(16).slice(1);\n\t} else {\n\t\talpha = '';\n\t}\n\n\treturn ((blue | green << 8 | red << 16) | 1 << 24).toString(16).slice(1) + alpha;\n};\n/* eslint-enable no-mixed-operators */\n","import rgbHex from \"rgb-hex\";\nimport hexRgb from \"hex-rgb\";\nimport { isDeepStrictEqual } from \"util\";\n\nimport { resolve } from \"path\";\nconst fs = require(\"@skpm/fs\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst desktopDir = path.join(os.homedir(), \"Desktop\");\n\n// import config from \"./config.json\";\n\n// General variables\nvar parentPath = [];\nconst variablePrefix = \"$\";\nconst keyToDelete = \"length\";\nconst separator = \"-\";\nvar result = \"\";\nvar colors = [];\nvar externalShadows = [];\nvar internalShadows = [];\nvar gradients = [];\nvar fontSizes = [];\n\n// #region Default constants\n// filltType\n// 0 = Fill\n// 1 = Gradient\n// gradientType\n// 0 = Linear\n// 1 = Radial\n// 2 = Angular\nconst borderPosition = [\"Inside\", \"Center\", \"Outside\"];\nconst gradientTypeValue = [\n    \"linear-gradient\",\n    \"radial-gradient\",\n    \"angular-gradient\",\n];\nconst gradientCircleType = [\"circle\", \"ellipse\"];\nconst imageFillType = [\"tile\", \"fill\", \"stretch\", \"fit\"];\n// #endregion\n\n// #region Sketch Items\nvar sketch = require(\"sketch\");\nvar Image = require(\"sketch/dom\").Image;\n\n// Document variables\nvar doc = context.document;\nvar document = sketch.getSelectedDocument();\nvar artboard = sketch.Artboard;\nvar data = document.sketchObject.documentData();\nvar image = sketch.Image;\n// #endregion\n\nlet designTokensList = {};\n\nlet styleDictionaryArray = [];\n\nexport default function() {\n    // #region Color Variables\n    // Sort color swatches by name. Uses `localCompare` to sort\n    // numbers properly. https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/localeCompare\n    let colorTokens = {};\n    const swatches = document.swatches; //.map((Swatch) => Swatch[\"name\"]);\n    swatches.forEach((swatch) => {\n        let swatchColor = setColor(swatch.color, \"rgba\");\n        colors.push([\n            swatch.name.substring(swatch.name.lastIndexOf(\"/\") + 1),\n            swatchColor,\n        ]);\n        if (swatch.name.indexOf(\"/\") > -1) {\n            createNestedObject(colorTokens, swatch.name.split(\"/\"), {\n                value: swatchColor,\n            });\n            styleDictionaryArray.push([\n                swatch.name.substring(swatch.name.lastIndexOf(\"/\") + 1),\n                \"colors.\" + swatch.name.replace(\"/\", \".\"),\n            ]);\n        } else {\n            colorTokens[swatch.name] = { value: swatchColor };\n            styleDictionaryArray.push([swatch.name, \"colors.\" + swatch.name]);\n        }\n    });\n    // #endregion\n\n    // #region Layer Styles\n    const layerStyles = document.sharedLayerStyles;\n    const arrayLayerStyleIDs = layerStyles.map(\n        (sharedstyle) => sharedstyle[\"id\"]\n    );\n    const arrayLayerStyleNames = layerStyles.map(\n        (sharedstyle) => sharedstyle[\"name\"]\n    );\n    const arrayLayerStyleStyles = layerStyles.map(\n        (sharedstyle) => sharedstyle[\"style\"]\n    );\n    const layerStylesOrdered = [...document.sharedLayerStyles].sort(\n        (left, right) => left.name > right.name\n    );\n    var stylesString = JSON.stringify(layerStylesOrdered);\n\n    // Color styles checks\n    let layerStylesTokensList = {};\n    let layerStyleTokens = {};\n    let borderPositions = {};\n\n    let layerStylesComplete = false;\n\n    // #region Shadow tokens\n    let shadowStyles = {};\n    let shadowCounter = 1;\n    for (const sharedStyle of layerStyles) {\n        let shadows = sharedStyle.style.shadows;\n\n        for (const shadow of shadows) {\n            let currentShadow = {};\n\n            if (shadow.enabled === true) {\n                setShadowDetails(currentShadow, shadow, \"shadow\");\n\n                if (!checkTokenValue(shadowStyles, currentShadow)) {\n                    let currentShadowName = \"shadow-\" + shadowCounter;\n                    createCouples(\n                        shadowStyles,\n                        currentShadow,\n                        currentShadowName,\n                        \"\",\n                        0\n                    );\n                    externalShadows.push([currentShadowName, currentShadow]);\n                    shadowCounter++;\n                    styleDictionaryArray.push([\n                        currentShadowName,\n                        \"shadows.\" + currentShadowName,\n                    ]);\n                }\n            }\n        }\n    }\n    // #endregion\n\n    // reset generic variables\n    result = \"\";\n\n    // #region Inner Shadow tokens\n    let innerShadowStyles = {};\n    for (const sharedStyle of layerStyles) {\n        let shadows = sharedStyle.style.innerShadows;\n        let shadowCounter = 1;\n        for (const shadow of shadows) {\n            let currentShadow = {};\n            if (shadow.enabled === true) {\n                setShadowDetails(currentShadow, shadow, \"inner-shadow\");\n\n                if (!checkTokenValue(currentShadow, innerShadowStyles)) {\n                    let currentShadowName = \"inner-shadow-\" + shadowCounter;\n                    createCouples(\n                        innerShadowStyles,\n                        currentShadow,\n                        currentShadowName,\n                        \"\",\n                        0\n                    );\n                    internalShadows.push([currentShadowName, currentShadow]);\n                    styleDictionaryArray.push([\n                        currentShadowName,\n                        \"inner-shadows.\" + currentShadowName,\n                    ]);\n                    shadowCounter++;\n                }\n            }\n        }\n        shadowCounter = 1;\n    }\n    // #endregion\n\n    // reset generic variables\n    result = \"\";\n\n    // #region gradients\n    //  TODO: check special gradients!!!\n    let gradientStyles = {};\n    let counterLinear = 0;\n    let counterRadial = 0;\n    let counterAngular = 0;\n    for (const sharedStyle of layerStyles) {\n        let fills = sharedStyle.style.fills;\n\n        let counter = 1;\n\n        for (const fill of fills) {\n            if (fill.fillType === \"Gradient\") {\n                let currentGradient = {};\n                let gradientType = fill.gradient.gradientType;\n                if (gradientType === \"Linear\") {\n                    counterLinear++;\n                    counter = counterLinear;\n                } else if (gradientType === \"Radial\") {\n                    counterRadial++;\n                    counter = counterRadial;\n                } else {\n                    counterAngular++;\n                    counter = counterAngular;\n                }\n                let currentGradientName =\n                    \"Gradient-\" + gradientType + separator + counter.toString();\n\n                currentGradient = setGradientDetails(\n                    currentGradient,\n                    fill,\n                    gradientType\n                );\n                let gradientStylesCheck = {};\n                createCouples(\n                    gradientStylesCheck,\n                    currentGradient,\n                    currentGradientName,\n                    \"\",\n                    0\n                );\n\n                if (!checkToken(currentGradient, gradientStyles)) {\n                    createCouples(\n                        gradientStyles,\n                        currentGradient,\n                        currentGradientName,\n                        \"\",\n                        0\n                    );\n                    gradients.push([currentGradientName, currentGradient]);\n                    styleDictionaryArray.push([\n                        currentGradientName,\n                        \"gradients.\" + currentGradientName,\n                    ]);\n                }\n            }\n        }\n    }\n    // #endregion\n\n    // reset generic variables\n    result = \"\";\n\n    for (const sharedStyle of layerStyles) {\n        let currentStyle = sharedStyle.name;\n\n        let styleColors = {};\n        let styleBorderColors = {};\n        let styleBorderPosition = {};\n        let styleBorderSize = {};\n        let styleShadowToken = false;\n        let styleShadow = {};\n        let styleInnerShadows = {};\n\n        // #region Fills check\n        let fills = sharedStyle.style.fills;\n        let counter = 1;\n        for (const fill of fills) {\n            let fillType = fill.fillType;\n\n            let fillGradientStyles = {};\n            if (fill.enabled === true) {\n                let fillCount = \"\";\n                if (counter > 1) {\n                    fillCount = counter.toString();\n                }\n                // #region fill monochrome\n                if (fillType === \"Color\") {\n                    let color = fill.color;\n                    let currentColor = setColor(color, \"rgba\");\n                    if (checkColor(colors, currentColor)) {\n                        let currentVariable = getColor(colors, currentColor);\n                        styleColors[\"background\" + fillCount + \"-color\"] = {\n                            value: setStyleDictionaryVariable(currentVariable),\n                        };\n                    } else {\n                        styleColors[\"background\" + fillCount + \"-color\"] = {\n                            value: currentColor,\n                        };\n                    }\n                }\n                // #endregion\n\n                // #region fill gradient\n                if (fillType === \"Gradient\") {\n                    let currentGradient = {};\n                    let gradientType = fill.gradient.gradientType;\n                    let gradientName = gradientTypeValue[gradientType];\n                    currentGradient = setGradientDetails(\n                        currentGradient,\n                        fill,\n                        gradientType\n                    );\n\n                    let currentGradientName =\n                        \"Gradient-\" +\n                        gradientType +\n                        separator +\n                        counter.toString();\n                    for (const [key, value] of Object.entries(gradientStyles)) {\n                        let gradientName = key;\n                        let gradient = value;\n                        if (\n                            isDeepStrictEqual(currentGradient, gradient) &&\n                            gradientName.includes(currentGradientName)\n                        ) {\n                            styleColors[\"background\" + fillCount + \"-color\"] = {\n                                value: setStyleDictionaryVariable(gradientName),\n                            };\n                        }\n                    }\n                }\n                // #endregion\n\n                // #region fill image\n                if (fillType === \"Pattern\") {\n                    // console.log(style.name)\n                    // console.log(fill.image)\n                    let patternType = fill.pattern.patternType;\n                    let patternScale = fill.pattern.tileScale;\n                    let patternImage = fill._object\n                        .image()\n                        .treeAsDictionary().sha1;\n\n                    styleColors[\"background-position\"] = { value: \"center\" };\n                    if (patternType === \"tile\" && patternScale !== 1) {\n                        styleColors[\"background-size\"] = {\n                            value: (patternScale * 100).toString() + \"%\",\n                        };\n                    } else if (patternType === \"stretch\") {\n                        styleColors[\"background-size\"] = { value: \"cover\" };\n                    } else if (patternType === \"fit\") {\n                        styleColors[\"background-size\"] = { value: \"contain\" };\n                    }\n                    if (fill.patternFillType === 0) {\n                        styleColors[\"background-repeat\"] = { value: \"repeat\" };\n                    } else {\n                        styleColors[\"background-repeat\"] = {\n                            value: \"no-repeat\",\n                        };\n                    }\n\n                    // TODO Find Image name!!!\n                    styleColors[\"background-image\"] = {\n                        value: patternImage,\n                    };\n                }\n                // #endregion\n                counter++;\n            }\n        }\n        // #endregion\n\n        // reset generic variables\n        counter = 1;\n        result = \"\";\n\n        // #region Borders check\n        let borders = sharedStyle.style.borders;\n        for (const border of borders) {\n            if (border.enabled === true) {\n                let fillCount = \"\";\n                if (counter > 1) {\n                    fillCount = counter.toString();\n                }\n                // Colors\n                let color = border.color;\n                let currentColor = setColor(color, \"rgba\");\n\n                if (checkColor(colors, currentColor)) {\n                    styleBorderColors[\"border\" + fillCount + \"-color\"] = {\n                        value: setStyleDictionaryVariable(\n                            getColor(colors, currentColor)\n                        ),\n                    };\n                } else {\n                    styleBorderColors[\"border\" + fillCount + \"-color\"] = {\n                        value: currentColor,\n                    };\n                }\n\n                // Position\n                let currentBorderPosition = border.position.toLowerCase();\n                createCouples(\n                    borderPositions, { value: currentBorderPosition },\n                    \"border-position\",\n                    currentBorderPosition\n                );\n                // Add border position to styleDictionaryArray if not already there\n                if (\n                    isItemInArray(\n                        styleDictionaryArray,\n                        currentBorderPosition\n                    ) === false\n                ) {\n                    styleDictionaryArray.push([\n                        currentBorderPosition,\n                        \"border.positions.\" + currentBorderPosition,\n                    ]);\n                }\n\n                styleBorderPosition[\"border\" + fillCount + \"-position\"] = {\n                    value: setStyleDictionaryVariable(currentBorderPosition),\n                };\n\n                // Size\n                styleBorderSize[\"border\" + fillCount + \"-size\"] = {\n                    value: border.thickness.toString() + \"px\",\n                };\n\n                counter++;\n            }\n        }\n        // #endregion\n\n        // reset generic variables\n        counter = 1;\n        result = \"\";\n\n        // #region Shadows check\n        let shadows = sharedStyle.style.shadows;\n        for (const shadow of shadows) {\n            if (shadow.enabled === true) {\n                let currentShadow = {};\n                let shadowCount = \"\";\n                if (counter > 1) {\n                    shadowCount = \"-\" + counter.toString();\n                }\n\n                setShadowDetails(currentShadow, shadow, \"shadow\");\n\n                if (checkShadows(externalShadows, currentShadow)) {\n                    styleShadow[\"shadow\" + shadowCount] = {\n                        value: setStyleDictionaryVariable(\n                            getShadow(externalShadows, currentShadow)\n                        ),\n                    };\n                }\n                counter++;\n            }\n        }\n        // #endregion\n\n        // reset generic variables\n        counter = 1;\n        result = \"\";\n\n        // #region Inner Shadows check\n        let innerShadows = sharedStyle.style.innerShadows;\n        for (const shadow of innerShadows) {\n            if (shadow.enabled === true) {\n                let currentShadow = {};\n                let shadowCount = \"\";\n                if (counter > 1) {\n                    shadowCount = counter.toString();\n                }\n\n                setShadowDetails(currentShadow, shadow, \"inner-shadow\");\n\n                if (checkShadows(internalShadows, currentShadow)) {\n                    styleShadow[\"inner-shadow\" + shadowCount] = {\n                        value: setStyleDictionaryVariable(\n                            getShadow(internalShadows, currentShadow)\n                        ),\n                    };\n                }\n\n                counter++;\n            }\n        }\n        // #endregion\n\n        // reset generic variables\n        counter = 1;\n        result = \"\";\n\n        // manage the entire layer style\n        layerStylesTokensList = Object.assign(\n            styleColors,\n            styleBorderColors,\n            styleBorderPosition,\n            styleBorderSize,\n            styleShadow,\n            styleInnerShadows\n        );\n\n        if (currentStyle.indexOf(\"/\") > -1) {\n            createNestedObject(\n                layerStyleTokens,\n                currentStyle.split(\"/\"),\n                layerStylesTokensList\n            );\n        } else {\n            layerStyleTokens[currentStyle] = layerStylesTokensList;\n        }\n    }\n    // #endregion\n\n    // #region Text Styles\n    const textStyles = document.sharedTextStyles;\n    const arrayTextStyleIDs = textStyles.map(\n        (sharedstyle) => sharedstyle[\"id\"]\n    );\n    const arrayTextStyleNames = textStyles.map(\n        (sharedstyle) => sharedstyle[\"name\"]\n    );\n    const arrayTextStyleStyles = textStyles.map(\n        (sharedstyle) => sharedstyle[\"style\"]\n    );\n    const textStylesOrdered = [...document.sharedTextStyles].sort(\n        (left, right) => left.name > right.name\n    );\n    const textString = JSON.stringify(textStylesOrdered);\n\n    const textDecorationsOptions = [\"none\", \"underline\", \"strikethrough\"];\n\n    const textCasesOptions = [\"none\", \"uppercase\", \"lowercase\", \"capitalize\"];\n\n    const textAlignmentOptions = [\"left\", \"right\", \"center\"];\n\n    let fonts = {};\n\n    let fontSize = {};\n    let fontWeight = {};\n    let fontAlignment = {};\n    let fontVAlignment = {};\n    let fontKerning = {};\n    let fontLineHeight = {};\n    let fontParagraphSpacing = {};\n    let textTransform = {};\n    let fontAxes = {};\n\n    let textStylesTokensList = {};\n    let textStyleTokens = {};\n\n    let textStylesComplete = false;\n\n    // #region Font Sizes tokens (because of ordering)\n    // future options: add XS-S-M-L-XL...as an option\n    let sizeValues = [];\n    for (const textStyleForSize of textStyles) {\n        let size = textStyleForSize.style.fontSize;\n        if (sizeValues.length > 0) {\n            if (sizeValues.indexOf(size) > -1) {} else {\n                sizeValues.push(size);\n            }\n        } else {\n            sizeValues.push(size);\n        }\n    }\n    if (sizeValues.length > 0) {\n        sizeValues = sizeValues.sort(function(a, b) {\n            return a - b;\n        });\n        for (let i = 0; i < sizeValues.length; i++) {\n            let counter = i + 1;\n            createCouples(\n                fontSize, { value: sizeValues[i] },\n                \"font-size\",\n                counter.toString()\n            );\n            let fontSizeName = \"font-size-\" + counter.toString();\n            fontSizes.push([fontSizeName, sizeValues[i]]);\n            styleDictionaryArray.push([\n                fontSizeName,\n                \"font-sizes.\" + fontSizeName,\n            ]);\n        }\n    }\n    // #endregion\n\n    // Check and list all the variants\n    let counter = 1;\n    for (const textStyle of textStyles) {\n        let fontFamily = [];\n        let styleFontFamily = {};\n        let styleFontFamilyName = {};\n        let styleFontSize = {};\n        let styleFontForcedStyle;\n        let styleFontColor = {};\n        let styleFontWeight = {};\n        let styleFontAlignment;\n        let styleFontVAlignment;\n        let styleFontKerning;\n        let styleFontLineHeight;\n        let styleFontParagraphSpacing;\n        let styleTextTransform;\n        let styleFontAxes;\n\n        let currentStyle = textStyle.name;\n\n        // #region Font Family\n        let currentStyleFont = textStyle.style.fontFamily;\n        let currentStyleFontKey = currentStyleFont.toLowerCase();\n        if (currentStyleFont.indexOf(\" \") > -1) {\n            if (currentStyleFont.indexOf(separator) > -1) {\n                currentStyleFontKey = currentStyleFont\n                    .replaceAll(\" \", \"\")\n                    .toLowerCase();\n            } else {\n                currentStyleFontKey = currentStyleFont\n                    .replaceAll(\" \", separator)\n                    .toLowerCase();\n            }\n        }\n        fontFamily = currentStyleFont.split(\"-\");\n        createCouples(\n            fonts, { value: currentStyleFont },\n            \"font-family\",\n            currentStyleFontKey\n        );\n        if (\n            isItemInArray(styleDictionaryArray, currentStyleFontKey) === false\n        ) {\n            styleDictionaryArray.push([\n                currentStyleFontKey,\n                \"font-families.\" + currentStyleFontKey,\n            ]);\n        }\n        styleFontFamily[\"font-family\"] = {\n            value: setStyleDictionaryVariable(currentStyleFontKey),\n        };\n        // #endregion\n\n        // #region Font Size\n        let currentStyleFontSize = textStyle.style.fontSize;\n        styleFontSize = {\n            fontSize: {\n                value: setStyleDictionaryVariable(\n                    getFontSize(fontSizes, currentStyleFontSize)\n                ),\n            },\n        };\n        // #endregion\n\n        // #region Font Color\n        let currentStyleFontColor = textStyle.style.textColor;\n        let currentColor = setColor(currentStyleFontColor, \"rgba\");\n        // If the color already exist as a Color Variable, it should not be added\n        if (checkColor(colors, currentColor)) {\n            styleFontColor[\"text-color\"] = {\n                value: setStyleDictionaryVariable(\n                    getColor(colors, currentColor)\n                ),\n            };\n        } else {\n            createCouples(\n                colorTokens, { value: currentColor },\n                \"color\",\n                counter.toString()\n            );\n            colors.push([\"color\" + counter.toString(), currentColor]);\n            let currentVariable = getColor(colors, currentColor);\n            if (isItemInArray(styleDictionaryArray, currentColor) === false) {\n                styleDictionaryArray.push([\n                    currentVariable,\n                    \"colors.\" + currentVariable,\n                ]);\n            }\n\n            styleFontColor[\"text-color\"] = {\n                value: setStyleDictionaryVariable(currentVariable),\n            };\n            counter++;\n        }\n        // #endregion\n\n        // #region Font Weight\n        let currentStyleFontWeight = textStyle.style.fontWeight * 100;\n        // if (fontFamily[1] !== undefined) {\n        //     styleFontWeight[\"font-weight\"] = { value: fontFamily[1] };\n        // } else {\n        //     styleFontWeight[\"font-weight\"] = { value: currentStyleFontWeight };\n        // }\n        let currentVariable =\n            \"font-weight-\" + currentStyleFontWeight.toString();\n        createCouples(\n            fontWeight, { value: currentStyleFontWeight },\n            currentVariable,\n            \"\",\n            0\n        );\n\n        if (isItemInArray(styleDictionaryArray, currentVariable) === false) {\n            styleDictionaryArray.push([\n                currentVariable,\n                \"font-weights.\" + currentVariable,\n            ]);\n        }\n\n        styleFontWeight[\"font-weight\"] = {\n            value: setStyleDictionaryVariable(currentVariable),\n        };\n        // #endregion\n\n        // #region Text Alignment\n        if (textStyle.style.alignment !== undefined) {\n            let currentStyleFontAlignment = textStyle.style.alignment;\n            createCouples(\n                fontAlignment,\n                currentStyleFontAlignment,\n                \"text-align\",\n                currentStyleFontAlignment\n            );\n            let currentVariable = \"text-align-\" + currentStyleFontAlignment;\n            if (\n                isItemInArray(styleDictionaryArray, currentVariable) === false\n            ) {\n                styleDictionaryArray.push([\n                    currentVariable,\n                    \"text-alignments.\" + currentVariable,\n                ]);\n            }\n            styleFontAlignment = setStyleToken(\n                fontAlignment,\n                setStyleDictionaryVariable(currentVariable),\n                \"text-align\"\n            );\n        } else {\n            createCouples(fontAlignment, \"left\", \"text-align\", \"left\");\n            styleFontAlignment = setStyleToken(\n                fontAlignment,\n                \"left\",\n                \"text-align\",\n                variablePrefix\n            );\n        }\n        // #endregion\n\n        // #region Other text parameters\n        // // Text Vertical Alignment\n        // let currentStyleFontVAlignment = textStyle.verticalAlignment\n        // createCouples(\n        //   fontVAlignment,\n        //   currentStyleFontVAlignment,\n        //   'text-valign',\n        //   currentStyleFontVAlignment\n        // )\n        // styleFontVAlignment = setStyleToken(\n        //   fontVAlignment,\n        //   currentStyleFontVAlignment,\n        //   'text-valign'\n        // )\n        // // Text Kerning\n        // let currentStyleFontKerning = textStyle.kerning\n        // if (textStylesComplete) {\n        //   createCouples(\n        //     fontKerning,\n        //     currentStyleFontKerning,\n        //     'text-kerning',\n        //     currentStyleFontKerning\n        //   )\n        // }\n        // styleFontKerning = setStyleToken(\n        //   fontKerning,\n        //   currentStyleFontKerning,\n        //   'text-kerning'\n        // )\n        // // Text Line Height\n        // let currentStyleFontLineHeight = textStyle.lineHeight\n        // if (textStylesComplete) {\n        //   createCouples(\n        //     fontLineHeight,\n        //     currentStyleFontLineHeight,\n        //     'text-line-height',\n        //     currentStyleFontLineHeight\n        //   )\n        // }\n        // styleFontLineHeight = setStyleToken(\n        //   fontLineHeight,\n        //   currentStyleFontLineHeight,\n        //   'text-line-height'\n        // )\n        // // Text Paragraph Spacing\n        // let currentStyleFontParagraphSpacing =\n        //   textStyle.paragraphSpacing\n        // if (textStylesComplete) {\n        //   createCouples(\n        //     fontParagraphSpacing,\n        //     currentStyleFontParagraphSpacing,\n        //     'text-paragraph',\n        //     currentStyleFontParagraphSpacing\n        //   )\n        // }\n        // styleFontParagraphSpacing = setStyleToken(\n        //   fontParagraphSpacing,\n        //   currentStyleFontParagraphSpacing,\n        //   'text-paragraph'\n        // )\n        // // Text Transforma\n        // let currentStyleTextTransform = textStyle.textTransform\n        // if (textStylesComplete) {\n        //   createCouples(\n        //     textTransform,\n        //     currentStyleTextTransform,\n        //     'text-transform',\n        //     currentStyleTextTransform\n        //   )\n        // }\n        // styleTextTransform = setStyleToken(\n        //   textTransform,\n        //   currentStyleTextTransform,\n        //   'text-transform'\n        // )\n        // // Text Font Axes\n        // let currentStyleFontAxes = textStyle.fontAxes\n        // if (textStylesComplete) {\n        //   createCouples(\n        //     fontAxes,\n        //     currentStyleFontAxes,\n        //     'text-axes',\n        //     currentStyleFontAxes\n        //   )\n        // }\n        // styleFontAxes = setStyleToken(fontAxes, currentStyleFontAxes, 'text-axes')\n        // #endregion\n\n        // manage the entire text style\n        textStylesTokensList = Object.assign(\n            styleFontFamily,\n            styleFontWeight,\n            styleFontSize,\n            styleFontColor,\n            styleFontAlignment,\n            styleFontVAlignment,\n            styleFontKerning,\n            styleFontLineHeight,\n            styleFontParagraphSpacing,\n            styleTextTransform,\n            styleFontAxes\n        );\n\n        if (currentStyle.indexOf(\"/\") > -1) {\n            createNestedObject(\n                textStyleTokens,\n                currentStyle.split(\"/\"),\n                textStylesTokensList\n            );\n        } else {\n            textStyleTokens[currentStyle] = textStylesTokensList;\n        }\n    }\n    // #endregion\n\n    // #region Create the final Object to be converted in a JSON file\n    // 1. Order the Gradient Styles Descending by Key\n    gradientStyles = Object.keys(gradientStyles)\n        .sort()\n        .reduce(function(result, key) {\n            result[key] = gradientStyles[key];\n            return result;\n        }, {});\n\n    // 2. Create the Object to export the JSON list\n    let colorsObj = {};\n    if (isEmptyObj(colorTokens) === false) {\n        colorsObj = { colors: colorTokens };\n    }\n    // console.log(colors);\n    let gradientObj = {};\n    if (isEmptyObj(gradientStyles) === false) {\n        gradientObj = { gradients: gradientStyles };\n    }\n    let shadowsObj = {};\n    if (isEmptyObj(shadowStyles) === false) {\n        shadowsObj = { shadows: shadowStyles };\n    }\n    let innerShadowsObj = {};\n    if (isEmptyObj(innerShadowStyles) === false) {\n        innerShadowsObj = { \"inner-shadows\": innerShadowStyles };\n    }\n    let fontsObj = {};\n    if (isEmptyObj(fonts) === false) {\n        fontsObj = { \"font-families\": fonts };\n    }\n    let fontSizeObj = {};\n    if (isEmptyObj(fontSize) === false) {\n        fontSizeObj = { \"font-sizes\": fontSize };\n    }\n    let fontWeightObj = {};\n    if (isEmptyObj(fontWeight) === false) {\n        fontWeightObj = { \"font-weights\": fontWeight };\n    }\n    let fontAlignmentObj = {};\n    if (isEmptyObj(fontAlignment) === false) {\n        fontAlignmentObj = { \"text-alignments\": fontAlignment };\n    }\n    let fontVAlignmentObj = {};\n    // if (isEmptyObj(fontVAlignment) === false) {\n    //     fontVAlignmentObj = { \"text-vertical-alignments\": fontVAlignment };\n    // }\n    let fontKerningObj = {};\n    // if (isEmptyObj(fontKerning) === false) {\n    //     fontKerningObj = { \"text-kernings\": fontKerning };\n    // }\n    let fontLineHeightObj = {};\n    // if (isEmptyObj(fontLineHeight) === false) {\n    //     fontLineHeightObj = { \"text-line-heights\": fontLineHeight };\n    // }\n    let fontParagraphSpacingObj = {};\n    // if (isEmptyObj(fontParagraphSpacing) === false) {\n    //     fontParagraphSpacingObj = { \"text-paragraphs\": fontParagraphSpacing };\n    // }\n    let textTransformObj = {};\n    if (isEmptyObj(textTransform) === false) {\n        textTransformObj = { \"text-transforms\": textTransform };\n    }\n    let fontAxesObj = {};\n    if (isEmptyObj(fontAxes) === false) {\n        fontAxesObj = { \"text-axes\": fontAxes };\n    }\n    let borderPositionsObj = {};\n    if (isEmptyObj(borderPositions) === false) {\n        borderPositionsObj = { \"border-positions\": borderPositions };\n    }\n    if (textStylesComplete) {\n        fontKerningObj = { \"text-kernings\": fontKerning };\n        fontLineHeightObj = { \"text-line-heights\": fontLineHeight };\n        fontParagraphSpacingObj = {\n            \"text-paragraph-spacings\": fontParagraphSpacing,\n        };\n        textTransformObj = { \"text-transforms\": textTransform };\n        fontAxesObj = { \"text-axes\": fontAxes };\n    }\n    let layerStylesObj = { \"layer-styles\": layerStyleTokens };\n    let textStylesObj = { \"text-styles\": textStyleTokens };\n\n    designTokensList = Object.assign(\n        colorsObj,\n        gradientObj,\n        shadowsObj,\n        innerShadowsObj,\n        fontsObj,\n        fontSizeObj,\n        fontWeightObj,\n        fontAlignmentObj,\n        fontVAlignmentObj,\n        fontKerningObj,\n        fontLineHeightObj,\n        fontParagraphSpacingObj,\n        textTransformObj,\n        fontAxesObj,\n        borderPositionsObj,\n        layerStylesObj,\n        textStylesObj\n    );\n\n    // #endregion\n\n    if (Object.keys(designTokensList).length > 0) {\n        //if (fonts.length > 0) {\n        delete designTokensList[keyToDelete];\n    }\n\n    // let objectToStringify = objectectLowerCase(designTokensList);\n    // console.log(objectToStringify);\n\n    // JSON.stringify(designTokensList, null, 2);\n\n    let json = JSON.stringify(objectectLowerCase(designTokensList), null, 2);\n\n    // Finally, store the color information in a `colors.json` file:\n    try {\n        fs.writeFileSync(desktopDir + \"/design-tokens.json\", json);\n        sketch.UI.message(\" Design Tokens extraction complete\");\n    } catch (error) {\n        sketch.UI.message(\n            \" There was an error writing your file on Desktop\"\n        );\n    }\n}\n\n// **************************************\n// Script functions\n// **************************************\n\n/**\n * Check if a copule key: value already exists\n */\nfunction checkToken(object, currentItem) {\n    let check = false;\n    if (Object.keys(object).length > 0) {\n        if (Object.values(object).indexOf(currentItem) > -1) {\n            check = true;\n        }\n    }\n    return check;\n}\n\n/**\n * Check if a copule key: value already exists in color tokens\n */\nfunction checkColor(array, currentItem) {\n    for (let i = 0; i < array.length; i++) {\n        if (isDeepStrictEqual(array[i][1], currentItem)) {\n            return true;\n        }\n    }\n}\n\n/**\n * Get the color available in the token list\n */\nfunction getColor(array, currentItem) {\n    for (let i = 0; i < array.length; i++) {\n        if (isDeepStrictEqual(array[i][1], currentItem)) {\n            return array[i][0];\n        }\n    }\n}\n\n/**\n * Set the current color available in the token list\n * the type parameter permit to specify if we want an export\n * with hex or rgba colors\n */\nfunction setColor(swatch, type = \"hex\") {\n    if (type === \"hex\") {\n        let swatchColorHEX = swatch;\n        return swatchColorHEX;\n    } else {\n        let swatchColorRGBA = hexAToRGBA(swatch);\n        // console.log(JSON.stringify(swatchColorRGBA, null, 1));\n        return swatchColorRGBA;\n    }\n}\n\n/**\n * Check if a copule key: value already exists in shadow tokens\n */\nfunction checkShadows(array, currentItem) {\n    for (let i = 0; i < array.length; i++) {\n        if (isDeepStrictEqual(array[i][1], currentItem)) {\n            return true;\n        }\n    }\n}\n\n/**\n * Get the shadow available in the token list\n */\nfunction getShadow(array, currentItem) {\n    for (let i = 0; i < array.length; i++) {\n        if (isDeepStrictEqual(array[i][1], currentItem)) {\n            return array[i][0];\n        }\n    }\n}\n\n/**\n * Get the font size available in the token list\n */\nfunction getFontSize(array, currentItem) {\n    for (let i = 0; i < array.length; i++) {\n        if (isDeepStrictEqual(array[i][1], currentItem)) {\n            return array[i][0];\n        }\n    }\n}\n\n/**\n * Check if a token is available in deep objects\n */\nfunction checkTokenValue(object, currentItem) {\n    result = \"\";\n    let check = false;\n\n    if (Object.keys(object).length > 0) {\n        for (var i in object) {\n            if (isDeepStrictEqual(object[i], currentItem)) {\n                check = true;\n                return check;\n            }\n            if (object[i] !== null && typeof object[i] == \"object\") {\n                //going one step down in the object tree!!\n                checkToken(object[i], currentItem);\n            }\n        }\n    }\n}\n\n/**\n * Create a token couple\n * Creates a token couple if not already in the list of available couples\n * Some optional parameters permit to add some specific requirements\n * for couple keys:\n *   suffixNeeded: 0=false, 1=true)\n *   name: keyName\n *   i = incremental number (for automatically generated couples)\n */\nfunction createCouples(\n    object,\n    currentItem,\n    name = \"\",\n    i = \"\",\n    suffixNeeded = 1\n) {\n    // if null we need something different\n    if (currentItem === null) {\n        currentItem = \"auto\";\n        i = \"auto\";\n    }\n\n    let suffix = \"-\" + i;\n    if (suffixNeeded === 0) {\n        suffix = \"\";\n    }\n    let keyName = name + suffix;\n    if (Object.keys(object).length > 0) {\n        if (Object.values(object).indexOf(currentItem) > -1) {\n            // This item already exists\n        } else {\n            // This item is new\n            object[keyName] = currentItem;\n        }\n    } else {\n        // This item is the first one I evaluate\n        object[keyName] = currentItem;\n    }\n}\n\n/**\n * Create a token couple\n * Creates a token couple if not already in the list of available couples\n * Some optional parameters permit to add some specific requirements\n * for couple keys:\n *   key: force the keyName\n *   prefix: add a prefix to value\n */\nfunction setStyleToken(object, currentItem, key = \"\", prefix = \"\") {\n    let token = {};\n    if (checkToken(object, currentItem)) {\n        token[key] = { value: prefix + getKeyByValue(object, currentItem) };\n    } else {\n        token[key] = { value: prefix + currentItem };\n    }\n    return token;\n}\n\n// **************************************\n// Internal functions\n// **************************************\n\n/**\n * Set the shadows parameters\n * the parameter shadowType permit to define inner or outer shadows\n */\nfunction setShadowDetails(object, currentItem, shadowType = \"\") {\n    let color = currentItem.color;\n    let currentColor = setColor(color, \"rgba\");\n\n    if (checkColor(colors, currentColor)) {\n        let currentVariable = getColor(colors, currentColor);\n        object[shadowType + \"-color\"] = {\n            value: setStyleDictionaryVariable(currentVariable),\n        };\n    } else {\n        object[shadowType + \"-color\"] = { value: currentColor };\n    }\n\n    object[shadowType + \"-blur-radius\"] = { value: currentItem.blur };\n    object[shadowType + \"-offset-x\"] = { value: currentItem.x };\n    object[shadowType + \"-offset-y\"] = { value: currentItem.y };\n    object[shadowType + \"-spread\"] = { value: currentItem.spread };\n\n    return object;\n}\n\n/**\n * Set the shadows parameters\n * parameters:\n * type: define the gradient type (default: linear)\n */\nfunction setGradientDetails(object, currentItem, type = \"Linear\") {\n    let currentObject = {};\n    let fill = currentItem;\n\n    if (type === \"Radial\") {\n        if (fill.gradient.aspectRatio > 0) {\n            currentObject[\"type\"] = gradientCircleType[1];\n            currentObject[\"aspect-ratio\"] =\n                fill.gradient.aspectRatio.toString();\n        } else {\n            currentObject[\"type\"] = gradientCircleType[0];\n        }\n    }\n    let degree = Math.round(\n        getAngleDeg(\n            fill.gradient.from.x,\n            fill.gradient.from.y,\n            fill.gradient.to.x,\n            fill.gradient.to.y\n        )\n    ).toString();\n    currentObject[\"degree\"] = { value: degree };\n    currentObject[\"from-x\"] = { value: fill.gradient.from.x.toString() };\n    currentObject[\"from-y\"] = { value: fill.gradient.from.y.toString() };\n    currentObject[\"to-x\"] = { value: fill.gradient.to.x.toString() };\n    currentObject[\"to-y\"] = { value: fill.gradient.to.y.toString() };\n\n    let stops = fill.gradient.stops;\n    let stopCounter = 1;\n    let stopList = {};\n    for (const stop of stops) {\n        let currentStop = {};\n        let stopName = stopCounter.toString();\n\n        let color = stop.color;\n        let currentColor = setColor(color, \"rgba\");\n\n        let currentPosition = Math.round(stop.position * 100) / 100;\n\n        if (checkColor(colors, currentColor)) {\n            let currentVariable = getColor(colors, currentColor);\n            currentStop = Object.assign(currentStop, {\n                color: { value: setStyleDictionaryVariable(currentVariable) },\n            });\n        } else {\n            currentStop = Object.assign(currentStop, {\n                color: { value: currentColor },\n            });\n        }\n\n        currentStop = Object.assign(currentStop, {\n            position: { value: currentPosition },\n        });\n        createNestedObject(stopList, [stopName], currentStop);\n        stopCounter++;\n    }\n    createCouples(currentObject, stopList, \"stops\", \"\", 0);\n    return currentObject;\n}\n\n/**\n * Set the value of the referenced Token in the format of Amazon\n * Style Dictionary.\n * Usages:\n * setStyleDictionaryVariable(currentVariable)\n *  currentVariable = the current token value\n *\n * The function search an available couple of values in styleDictionaryArray\n * with currentVariable as first element and return as a value the\n * the second Element of the couple in the array.\n * If no couple exists in styleDictionaryArray, it returns\n * as a value currentVriable\n */\nfunction setStyleDictionaryVariable(currentVariable) {\n    let styleDictionaryVariable = \"\";\n    // console.log(styleDictionaryArray);\n    // console.log(currentVariable);\n    for (let i = 0; i < styleDictionaryArray.length; i++) {\n        if (styleDictionaryArray[i][0] === currentVariable) {\n            styleDictionaryVariable = styleDictionaryArray[i][1];\n            break;\n        }\n    }\n    if (styleDictionaryVariable !== \"\" || styleDictionaryArray !== undefined) {\n        return styleDictionaryVariable;\n    } else {\n        return currentVariable;\n    }\n}\n\n// **************************************\n// Color functions\n// **************************************\n\nfunction getAngleDeg(ax, ay, bx, by) {\n    var angleRad = Math.atan((ay - by) / (ax - bx));\n    var angleDeg = (angleRad * 180) / Math.PI;\n\n    return angleDeg;\n}\n\nfunction hexAToRGBA(hex) {\n    let r = 0,\n        g = 0,\n        b = 0,\n        a = 1;\n\n    if (hex.length == 5) {\n        r = \"0x\" + hex[1] + hex[1];\n        g = \"0x\" + hex[2] + hex[2];\n        b = \"0x\" + hex[3] + hex[3];\n        a = \"0x\" + hex[4] + hex[4];\n    } else if (hex.length == 9) {\n        r = \"0x\" + hex[1] + hex[2];\n        g = \"0x\" + hex[3] + hex[4];\n        b = \"0x\" + hex[5] + hex[6];\n        a = \"0x\" + hex[7] + hex[8];\n    }\n    a = +(a / 255).toFixed(3);\n\n    return \"rgba(\" + +r + \", \" + +g + \", \" + +b + \", \" + a + \")\";\n}\n\n// **************************************\n// Object functions\n// **************************************\n\n/**\n * Return true if item exist in a\n * multidimentional array\n */\nfunction isItemInArray(array, item) {\n    for (var i = 0; i < array.length; i++) {\n        // This if statement depends on the format of your array\n        if (array[i][0] == item[0] && array[i][1] == item[1]) {\n            return true; // Found it\n        }\n    }\n    return false; // Not found\n}\n\n/**\n * Set all keys and values to LowerCase in object\n */\nfunction objectectLowerCase(object) {\n    // Helper function for detection objects\n    const isObject = (obj) =>\n        Object.prototype.toString.call(obj) === \"[object Object]\";\n\n    // The entry point for recursion, iterates and maps object properties\n    const lowerCaseObjectKeys = (obj) =>\n        Object.fromEntries(Object.entries(obj).map(objectKeyMapper));\n\n    // Converts keys to lowercase, detects object values\n    // and sends them off for further conversion\n    const objectKeyMapper = ([key, val]) => [\n        key.toLowerCase(),\n        isObject(val) ? lowerCaseObjectKeys(val) : val,\n    ];\n\n    let newObject = lowerCaseObjectKeys(lowercaseObjectValues(object));\n\n    return newObject;\n}\n\n/**\n * Set all values to LowerCase in object\n */\nfunction lowercaseObjectValues(object) {\n    if (typeof object === \"object\") {\n        for (var keys in object) {\n            if (typeof object[keys] === \"object\") {\n                lowercaseObjectValues(object[keys]);\n            } else {\n                let keyValue = object[keys];\n                if (typeof keyValue === \"string\") {\n                    keyValue = object[keys].toLowerCase();\n                    object[keys] = keyValue;\n                }\n            }\n        }\n    }\n    return object;\n}\n\n/**\n * Get the key in the object associated with the defined value\n * The discard parameter permit to remove part of the value string if needed\n */\nfunction getKeyByValue(object, value, discard = \"\") {\n    if (typeof value === \"string\") {\n        value = value.replace(discard, \"\");\n    }\n    return Object.keys(object).find((key) => object[key] === value);\n}\n\n/**\n * Generate nested Objects by splitting a sting\n * Usages:\n * createNestedObject(window, ['shapes', 'circle'])\n *   Now window.shapes.circle is an empty object, ready to be used.\n * var object = {} // Works with any object other that window too\n * createNestedObject(object, ['shapes', 'rectangle', 'width'], 300)\n *   Now we have: object.shapes.rectangle.width === 300\n * createNestedObject(object, 'shapes.rectangle.height'.split('.'), 400)\n *   Now we have: object.shapes.rectangle.height === 400\n */\nfunction createNestedObject(object, keys, value) {\n    // If a value is given, remove the last name and keep it for later:\n    var lastKey = arguments.length === 3 ? keys.pop() : false;\n    // Walk the hierarchy, creating new objects where needed.\n    // If the lastKey was removed, then the last object is not set yet:\n    for (var i = 0; i < keys.length; i++) {\n        object = object[keys[i]] = object[keys[i]] || {};\n    }\n\n    // If a value was given, set it to the last name:\n    if (lastKey) object = object[lastKey] = value;\n\n    // Return the last object in the hierarchy:\n    return object;\n}\n\n/**\n * Check if an object is empy\n */\nfunction isEmptyObj(object) {\n    let isEmpty = false;\n    if (Object.keys(object).length === 0) {\n        isEmpty = true;\n    }\n    return isEmpty;\n}","module.exports = require(\"buffer\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"sketch\");","module.exports = require(\"sketch/dom\");","module.exports = require(\"util\");"],"sourceRoot":""}