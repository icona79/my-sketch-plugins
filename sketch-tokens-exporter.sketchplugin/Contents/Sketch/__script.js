var globalThis=this,global=this;function __skpm_run(e,t){globalThis.context=t;try{var r=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=20)}([function(e,t){e.exports=require("util")},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(8),o=r(9),a=r(4),i=r(10);e.exports=function(e,t){return n(e)||o(e,t)||a(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(11),o=r(12),a=r(4),i=r(13);e.exports=function(e){return n(e)||o(e)||a(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(5);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=require("path")},function(e,t,r){var n=r(15).Buffer,o=r(16),a=o.parseStat,i=o.fsError,l=o.fsErrorForPath,s=o.encodingFromOptions,c=o.NOT_IMPLEMENTED;e.exports.constants={F_OK:0,R_OK:4,W_OK:2,X_OK:1},e.exports.access=c("access"),e.exports.accessSync=function(t,r){r|=0;var n=NSFileManager.defaultManager();switch(r){case 0:canAccess=e.exports.existsSync(t);break;case 1:canAccess=Boolean(Number(n.isExecutableFileAtPath(t)));break;case 2:canAccess=Boolean(Number(n.isWritableFileAtPath(t)));break;case 3:canAccess=Boolean(Number(n.isExecutableFileAtPath(t)))&&Boolean(Number(n.isWritableFileAtPath(t)));break;case 4:canAccess=Boolean(Number(n.isReadableFileAtPath(t)));break;case 5:canAccess=Boolean(Number(n.isReadableFileAtPath(t)))&&Boolean(Number(n.isExecutableFileAtPath(t)));break;case 6:canAccess=Boolean(Number(n.isReadableFileAtPath(t)))&&Boolean(Number(n.isWritableFileAtPath(t)));break;case 7:canAccess=Boolean(Number(n.isReadableFileAtPath(t)))&&Boolean(Number(n.isWritableFileAtPath(t)))&&Boolean(Number(n.isExecutableFileAtPath(t)))}if(!canAccess)throw new Error("Can't access "+String(t))},e.exports.appendFile=c("appendFile"),e.exports.appendFileSync=function(t,r,o){if(!e.exports.existsSync(t))return e.exports.writeFileSync(t,r,o);var a=NSFileHandle.fileHandleForWritingAtPath(t);a.seekToEndOfFile();var i=s(o,"utf8"),l=n.from(r,"NSData"===i||"buffer"===i?void 0:i).toNSData();a.writeData(l)},e.exports.chmod=c("chmod"),e.exports.chmodSync=function(e,t){var r=MOPointer.alloc().init();if(NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFilePosixPermissions:t},e,r),null!==r.value())throw l(e,void 0,r.value())},e.exports.chown=c("chown"),e.exports.chownSync=c("chownSync"),e.exports.close=c("close"),e.exports.closeSync=c("closeSync"),e.exports.copyFile=c("copyFile"),e.exports.copyFileSync=function(e,t,r){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().copyItemAtPath_toPath_error(e,t,n),null!==n.value())throw l(e,!1,n.value())},e.exports.createReadStream=c("createReadStream"),e.exports.createWriteStream=c("createWriteStream"),e.exports.exists=c("exists"),e.exports.existsSync=function(e){var t=NSFileManager.defaultManager();return Boolean(Number(t.fileExistsAtPath(e)))},e.exports.fchmod=c("fchmod"),e.exports.fchmodSync=c("fchmodSync"),e.exports.fchown=c("fchown"),e.exports.fchownSync=c("fchownSync"),e.exports.fdatasync=c("fdatasync"),e.exports.fdatasyncSync=c("fdatasyncSync"),e.exports.fstat=c("fstat"),e.exports.fstatSync=c("fstatSync"),e.exports.fsync=c("fsync"),e.exports.fsyncSync=c("fsyncSync"),e.exports.ftruncate=c("ftruncate"),e.exports.ftruncateSync=c("ftruncateSync"),e.exports.futimes=c("futimes"),e.exports.futimesSync=c("futimesSync"),e.exports.lchmod=c("lchmod"),e.exports.lchmodSync=c("lchmodSync"),e.exports.lchown=c("lchown"),e.exports.lchownSync=c("lchownSync"),e.exports.link=c("link"),e.exports.linkSync=function(e,t){var r=MOPointer.alloc().init();if(NSFileManager.defaultManager().linkItemAtPath_toPath_error(e,t,r),null!==r.value())throw l(e,void 0,r.value())},e.exports.lstat=c("lstat"),e.exports.lstatSync=function(e){var t=MOPointer.alloc().init(),r=NSFileManager.defaultManager().attributesOfItemAtPath_error(e,t);if(null!==t.value())throw l(e,void 0,t.value());return a(r)},e.exports.mkdir=c("mkdir"),e.exports.mkdirSync=function(e,t){var r=511,n=!1;t&&t.mode&&(r=t.mode),t&&t.recursive&&(n=t.recursive),"number"==typeof t&&(r=t);var o=MOPointer.alloc().init();if(NSFileManager.defaultManager().createDirectoryAtPath_withIntermediateDirectories_attributes_error(e,n,{NSFilePosixPermissions:r},o),null!==o.value())throw new Error(o.value())},e.exports.mkdtemp=c("mkdtemp"),e.exports.mkdtempSync=function(t){var r=t+function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<6;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();return e.exports.mkdirSync(r),r},e.exports.open=c("open"),e.exports.openSync=c("openSync"),e.exports.read=c("read"),e.exports.readdir=c("readdir"),e.exports.readdirSync=function(e,t){for(var r=s(t,"utf8"),o=NSFileManager.defaultManager().subpathsAtPath(e),a=[],i=0;i<o.length;i++){var l=o[i];a.push("buffer"===r?n.from(l):String(l))}return a},e.exports.readFile=c("readFile"),e.exports.readFileSync=function(e,t){var r=s(t,"buffer"),o=NSFileManager.defaultManager().contentsAtPath(e);if(!o)throw l(e,!1);var a=n.from(o);return"buffer"===r?a:"NSData"===r?a.toNSData():a.toString(r)},e.exports.readlink=c("readlink"),e.exports.readlinkSync=function(e){var t=MOPointer.alloc().init(),r=NSFileManager.defaultManager().destinationOfSymbolicLinkAtPath_error(e,t);if(null!==t.value())throw l(e,void 0,t.value());return String(r)},e.exports.readSync=c("readSync"),e.exports.realpath=c("realpath"),e.exports.realpath.native=c("realpath.native"),e.exports.realpathSync=function(e){return String(NSString.stringWithString(e).stringByResolvingSymlinksInPath())},e.exports.realpathSync.native=c("realpathSync.native"),e.exports.rename=c("rename"),e.exports.renameSync=function(e,t){var r=MOPointer.alloc().init(),n=NSFileManager.defaultManager();n.moveItemAtPath_toPath_error(e,t,r);var o=r.value();if(null!==o){if("NSCocoaErrorDomain"!==String(o.domain())||516!==Number(o.code()))throw l(e,void 0,o);var a=MOPointer.alloc().init();if(n.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(NSURL.fileURLWithPath(t),NSURL.fileURLWithPath(e),null,NSFileManagerItemReplacementUsingNewMetadataOnly,null,a),null!==a.value())throw l(e,void 0,a.value())}},e.exports.rmdir=c("rmdir"),e.exports.rmdirSync=function(t){var r=MOPointer.alloc().init(),n=NSFileManager.defaultManager();if(!e.exports.lstatSync(t).isDirectory())throw i("ENOTDIR",{path:t,syscall:"rmdir"});if(n.removeItemAtPath_error(t,r),null!==r.value())throw l(t,!0,r.value(),"rmdir")},e.exports.stat=c("stat"),e.exports.statSync=function(t){return e.exports.lstatSync(e.exports.realpathSync(t))},e.exports.symlink=c("symlink"),e.exports.symlinkSync=function(e,t){var r=MOPointer.alloc().init();NSFileManager.defaultManager().createSymbolicLinkAtPath_withDestinationPath_error(t,e,r);if(null!==r.value())throw new Error(r.value())},e.exports.truncate=c("truncate"),e.exports.truncateSync=function(e,t){var r=NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);r.truncateFileAtOffset(t||0),r.closeFile()},e.exports.unlink=c("unlink"),e.exports.unlinkSync=function(t){var r=MOPointer.alloc().init(),n=NSFileManager.defaultManager();if(e.exports.lstatSync(t).isDirectory())throw i("EPERM",{path:t,syscall:"unlink"});n.removeItemAtPath_error(t,r);if(null!==r.value())throw l(t,!1,r.value())},e.exports.unwatchFile=c("unwatchFile"),e.exports.utimes=c("utimes"),e.exports.utimesSync=function(e,t,r){var n=MOPointer.alloc().init();NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFileModificationDate:t},e,n);if(null!==n.value())throw l(e,void 0,n.value())},e.exports.watch=c("watch"),e.exports.watchFile=c("watchFile"),e.exports.write=c("write"),e.exports.writeFile=c("writeFile"),e.exports.writeFileSync=function(e,t,r){var o=s(r,"utf8");n.from(t,"NSData"===o||"buffer"===o?void 0:o).toNSData().writeToFile_atomically(e,!0)},e.exports.writeSync=c("writeSync")},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(s){l=!0,o=s}finally{try{i||null==r.return||r.return()}finally{if(l)throw o}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(5);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";e.exports=(e,t,r,n)=>{const o=(e+(n||"")).toString().includes("%");if("string"==typeof e?[e,t,r,n]=e.match(/(0?\.?\d{1,3})%?\b/g).map(Number):void 0!==n&&(n=parseFloat(n)),"number"!=typeof e||"number"!=typeof t||"number"!=typeof r||e>255||t>255||r>255)throw new TypeError("Expected three numbers below 256");if("number"==typeof n){if(!o&&n>=0&&n<=1)n=Math.round(255*n);else{if(!(o&&n>=0&&n<=100))throw new TypeError(`Expected alpha value (${n}) as a fraction or percentage`);n=Math.round(255*n/100)}n=(256|n).toString(16).slice(1)}else n="";return(r|t<<8|e<<16|1<<24).toString(16).slice(1)+n}},function(e,t){e.exports=require("buffer")},function(e,t,r){e.exports.parseStat=function(e){return{dev:String(e.NSFileDeviceIdentifier),mode:e.NSFileType|e.NSFilePosixPermissions,nlink:Number(e.NSFileReferenceCount),uid:String(e.NSFileOwnerAccountID),gid:String(e.NSFileGroupOwnerAccountID),size:Number(e.NSFileSize),atimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),mtimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),ctimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),birthtimeMs:1e3*Number(e.NSFileCreationDate.timeIntervalSince1970()),atime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),mtime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),ctime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),birthtime:new Date(1e3*Number(e.NSFileCreationDate.timeIntervalSince1970())+.5),isBlockDevice:function(){return e.NSFileType===NSFileTypeBlockSpecial},isCharacterDevice:function(){return e.NSFileType===NSFileTypeCharacterSpecial},isDirectory:function(){return e.NSFileType===NSFileTypeDirectory},isFIFO:function(){return!1},isFile:function(){return e.NSFileType===NSFileTypeRegular},isSocket:function(){return e.NSFileType===NSFileTypeSocket},isSymbolicLink:function(){return e.NSFileType===NSFileTypeSymbolicLink}}};var n={EPERM:{message:"operation not permitted",errno:-1},ENOENT:{message:"no such file or directory",errno:-2},EACCES:{message:"permission denied",errno:-13},ENOTDIR:{message:"not a directory",errno:-20},EISDIR:{message:"illegal operation on a directory",errno:-21}};function o(e,t){var r=new Error(e+": "+n[e].message+", "+(t.syscall||"")+(t.path?" '"+t.path+"'":""));return Object.keys(t).forEach((function(e){r[e]=t[e]})),r.code=e,r.errno=n[e].errno,r}e.exports.fsError=o,e.exports.fsErrorForPath=function(e,t,n,a){var i=NSFileManager.defaultManager();if(!i.fileExistsAtPath(e))return o("ENOENT",{path:e,syscall:a||"open"});if(!i.isReadableFileAtPath(e))return o("EACCES",{path:e,syscall:a||"open"});if(void 0!==t){var l=r(7).lstatSync(e).isDirectory();if(l&&!t)return o("EISDIR",{path:e,syscall:a||"read"});if(!l&&t)return o("ENOTDIR",{path:e,syscall:a||"read"})}return new Error(n||"Unknown error while manipulating "+e)},e.exports.encodingFromOptions=function(e,t){return e&&e.encoding?String(e.encoding):e?String(e):t},e.exports.NOT_IMPLEMENTED=function(e){return function(){throw new Error("fs."+e+" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs")}}},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("sketch")},function(e,t){e.exports=require("sketch/dom")},function(e,r,n){"use strict";n.r(r);var o=n(1),a=n.n(o),i=n(2),l=n.n(i),s=n(3),c=n.n(s);n(14);new RegExp("[^#a-f\\d]","gi"),new RegExp("^#?[a-f\\d]{3}[a-f\\d]?$|^#?[a-f\\d]{6}([a-f\\d]{2})?$","i");var u=n(0);n(6);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=n(7),v=n(17),y=n(6).join(v.homedir(),"Desktop"),h=[],m=[],g=[],S=[],x=[],b=["circle","ellipse"],w=n(18),N=(n(19).Image,t.document,w.getSelectedDocument()),F=(w.Artboard,N.sketchObject.documentData(),w.Image,{}),M=[];r.default=function(){var e={};N.swatches.forEach((function(t){var r=P(t.color,"rgba");h.push([t.name.substring(t.name.lastIndexOf("/")+1),r]),t.name.indexOf("/")>-1?(W(e,t.name.split("/"),{value:r}),M.push([t.name.substring(t.name.lastIndexOf("/")+1),"colors."+t.name.replace("/",".")])):(e[t.name]={value:r},M.push([t.name,"colors."+t.name]))}));var t,r=N.sharedLayerStyles,n=(r.map((function(e){return e.id})),r.map((function(e){return e.name})),r.map((function(e){return e.style})),c()(N.sharedLayerStyles).sort((function(e,t){return e.name>t.name}))),o=(JSON.stringify(n),{}),i={},s={},p={},v=1,b=f(r);try{for(b.s();!(t=b.n()).done;){var B,U=f(t.value.style.shadows);try{for(U.s();!(B=U.n()).done;){var z=B.value,$={};if(!0===z.enabled&&(R($,z,"shadow"),!I(p,$))){var H="shadow-"+v;j(p,$,H,"",0),m.push([H,$]),v++,M.push([H,"shadows."+H])}}}catch(ur){U.e(ur)}finally{U.f()}}}catch(ur){b.e(ur)}finally{b.f()}"";var K,J={},X=f(r);try{for(X.s();!(K=X.n()).done;){var Y,Q=K.value.style.innerShadows,V=1,Z=f(Q);try{for(Z.s();!(Y=Z.n()).done;){var ee=Y.value,te={};if(!0===ee.enabled&&(R(te,ee,"inner-shadow"),!I(te,J))){var re="inner-shadow-"+V;j(J,te,re,"",0),g.push([re,te]),M.push([re,"inner-shadows."+re]),V++}}}catch(ur){Z.e(ur)}finally{Z.f()}V=1}}catch(ur){X.e(ur)}finally{X.f()}"";var ne,oe={},ae=0,ie=0,le=0,se=f(r);try{for(se.s();!(ne=se.n()).done;){var ce,ue=ne.value.style.fills,fe=f(ue);try{for(fe.s();!(ce=fe.n()).done;){var pe=ce.value;if("Gradient"===pe.fillType){var de={},ve=pe.gradient.gradientType,ye="Gradient-"+ve+"-"+("Linear"===ve?++ae:"Radial"===ve?++ie:++le).toString();de=C(de,pe,ve);j({},de,ye,"",0),O(de,oe)||(j(oe,de,ye,"",0),S.push([ye,de]),M.push([ye,"gradients."+ye]))}}}catch(ur){fe.e(ur)}finally{fe.f()}}}catch(ur){se.e(ur)}finally{se.f()}"";var he,me=f(r);try{for(me.s();!(he=me.n()).done;){var ge,Se=he.value,xe=Se.name,be={},we={},Ne={},Fe={},Me={},Oe=Se.style.fills,ke=1,_e=f(Oe);try{for(_e.s();!(ge=_e.n()).done;){var Pe=ge.value,Ae=Pe.fillType;if(!0===Pe.enabled){var Ee="";if(ke>1&&(Ee=ke.toString()),"Color"===Ae){var De=P(Pe.color,"rgba");if(k(h,De)){var Ie=_(h,De);be["background"+Ee+"-color"]={value:L(Ie)}}else be["background"+Ee+"-color"]={value:De}}if("Gradient"===Ae){var je={},Te=Pe.gradient.gradientType;je=C(je,Pe,Te);for(var Re="Gradient-"+Te+"-"+ke.toString(),Ce=0,Le=Object.entries(oe);Ce<Le.length;Ce++){var Be=l()(Le[Ce],2),Ue=Be[0],qe=Be[1],ze=Ue,We=qe;Object(u.isDeepStrictEqual)(je,We)&&ze.includes(Re)&&(be["background"+Ee+"-color"]={value:L(ze)})}}if("Pattern"===Ae){var Ge=Pe.pattern.patternType,$e=Pe.pattern.tileScale,He=Pe._object.image().treeAsDictionary().sha1;be["background-position"]={value:"center"},"tile"===Ge&&1!==$e?be["background-size"]={value:(100*$e).toString()+"%"}:"stretch"===Ge?be["background-size"]={value:"cover"}:"fit"===Ge&&(be["background-size"]={value:"contain"}),0===Pe.patternFillType?be["background-repeat"]={value:"repeat"}:be["background-repeat"]={value:"no-repeat"},be["background-image"]={value:He}}ke++}}}catch(ur){_e.e(ur)}finally{_e.f()}ke=1,"";var Ke,Je=f(Se.style.borders);try{for(Je.s();!(Ke=Je.n()).done;){var Xe=Ke.value;if(!0===Xe.enabled){var Ye="";ke>1&&(Ye=ke.toString());var Qe=P(Xe.color,"rgba");k(h,Qe)?we["border"+Ye+"-color"]={value:L(_(h,Qe))}:we["border"+Ye+"-color"]={value:Qe};var Ve=Xe.position.toLowerCase();j(s,{value:Ve},"border-position",Ve),!1===q(M,Ve)&&M.push([Ve,"border.positions."+Ve]),Ne["border"+Ye+"-position"]={value:L(Ve)},Fe["border"+Ye+"-size"]={value:Xe.thickness.toString()+"px"},ke++}}}catch(ur){Je.e(ur)}finally{Je.f()}ke=1,"";var Ze,et=f(Se.style.shadows);try{for(et.s();!(Ze=et.n()).done;){var tt=Ze.value;if(!0===tt.enabled){var rt={},nt="";ke>1&&(nt="-"+ke.toString()),R(rt,tt,"shadow"),A(m,rt)&&(Me["shadow"+nt]={value:L(E(m,rt))}),ke++}}}catch(ur){et.e(ur)}finally{et.f()}ke=1,"";var ot,at=f(Se.style.innerShadows);try{for(at.s();!(ot=at.n()).done;){var it=ot.value;if(!0===it.enabled){var lt={},st="";ke>1&&(st=ke.toString()),R(lt,it,"inner-shadow"),A(g,lt)&&(Me["inner-shadow"+st]={value:L(E(g,lt))}),ke++}}}catch(ur){at.e(ur)}finally{at.f()}ke=1,"",o=Object.assign(be,we,Ne,Fe,Me,{}),xe.indexOf("/")>-1?W(i,xe.split("/"),o):i[xe]=o}}catch(ur){me.e(ur)}finally{me.f()}var ct,ut=N.sharedTextStyles,ft=(ut.map((function(e){return e.id})),ut.map((function(e){return e.name})),ut.map((function(e){return e.style})),c()(N.sharedTextStyles).sort((function(e,t){return e.name>t.name}))),pt=(JSON.stringify(ft),{}),dt={},vt={},yt={},ht={},mt={},gt={},St={},xt=[],bt=f(ut);try{for(bt.s();!(ct=bt.n()).done;){var wt=ct.value.style.fontSize;xt.length>0&&xt.indexOf(wt)>-1||xt.push(wt)}}catch(ur){bt.e(ur)}finally{bt.f()}if(xt.length>0){xt=xt.sort((function(e,t){return e-t}));for(var Nt=0;Nt<xt.length;Nt++){var Ft=Nt+1;j(dt,{value:xt[Nt]},"font-size",Ft.toString());var Mt="font-size-"+Ft.toString();x.push([Mt,xt[Nt]]),M.push([Mt,"font-sizes."+Mt])}}var Ot,kt=1,_t=f(ut);try{for(_t.s();!(Ot=_t.n()).done;){var Pt,At=Ot.value,Et={},Dt={},It={},jt=void 0,Tt=At.name,Rt=At.style.fontFamily,Ct=Rt.toLowerCase();Rt.indexOf(" ")>-1&&(Ct=Rt.indexOf("-")>-1?Rt.replaceAll(" ","").toLowerCase():Rt.replaceAll(" ","-").toLowerCase()),Rt.split("-"),j(pt,{value:Rt},"font-family",Ct),!1===q(M,Ct)&&M.push([Ct,"font-families."+Ct]),Et["font-family"]={value:L(Ct)};var Lt=At.style.fontSize;Pt={fontSize:{value:L(D(x,Lt))}};var Bt=P(At.style.textColor,"rgba");if(k(h,Bt))Dt["text-color"]={value:L(_(h,Bt))};else{j(e,{value:Bt},"color",kt.toString()),h.push(["color"+kt.toString(),Bt]);var Ut=_(h,Bt);!1===q(M,Bt)&&M.push([Ut,"colors."+Ut]),Dt["text-color"]={value:L(Ut)},kt++}var qt=100*At.style.fontWeight,zt="font-weight-"+qt.toString();if(j(vt,{value:qt},zt,"",0),!1===q(M,zt)&&M.push([zt,"font-weights."+zt]),It["font-weight"]={value:L(zt)},void 0!==At.style.alignment){var Wt=At.style.alignment;j(yt,Wt,"text-align",Wt);var Gt="text-align-"+Wt;!1===q(M,Gt)&&M.push([Gt,"text-alignments."+Gt]),jt=T(yt,L(Gt),"text-align")}else j(yt,"left","text-align","left"),jt=T(yt,"left","text-align","$");gt=Object.assign(Et,It,Pt,Dt,jt,void 0,void 0,void 0,void 0,void 0,void 0),Tt.indexOf("/")>-1?W(St,Tt.split("/"),gt):St[Tt]=gt}}catch(ur){_t.e(ur)}finally{_t.f()}oe=Object.keys(oe).sort().reduce((function(e,t){return e[t]=oe[t],e}),{});var $t={};!1===G(e)&&($t={colors:e});var Ht={};!1===G(oe)&&(Ht={gradients:oe});var Kt={};!1===G(p)&&(Kt={shadows:p});var Jt={};!1===G(J)&&(Jt={"inner-shadows":J});var Xt={};!1===G(pt)&&(Xt={"font-families":pt});var Yt={};!1===G(dt)&&(Yt={"font-sizes":dt});var Qt={};!1===G(vt)&&(Qt={"font-weights":vt});var Vt={};!1===G(yt)&&(Vt={"text-alignments":yt});var Zt={},er={},tr={},rr={};!1===G(ht)&&(rr={"text-transforms":ht});var nr={};!1===G(mt)&&(nr={"text-axes":mt});var or={};!1===G(s)&&(or={"border-positions":s});var ar={"layer-styles":i},ir={"text-styles":St};F=Object.assign($t,Ht,Kt,Jt,Xt,Yt,Qt,Vt,{},Zt,er,tr,rr,nr,or,ar,ir),Object.keys(F).length>0&&delete F.length;var lr,sr,cr=JSON.stringify((lr=function(e){return Object.fromEntries(Object.entries(e).map(sr))},sr=function(e){var t,r=l()(e,2),n=r[0],o=r[1];return[n.toLowerCase(),(t=o,"[object Object]"===Object.prototype.toString.call(t)?lr(o):o)]},lr(function e(t){if("object"===a()(t))for(var r in t)if("object"===a()(t[r]))e(t[r]);else{var n=t[r];"string"==typeof n&&(n=t[r].toLowerCase(),t[r]=n)}return t}(F))),null,2);try{d.writeFileSync(y+"/design-tokens.json",cr),w.UI.message("✅ Design Tokens extraction complete")}catch(fr){w.UI.message("⛔️ There was an error writing your file on Desktop")}};function O(e,t){var r=!1;return Object.keys(e).length>0&&Object.values(e).indexOf(t)>-1&&(r=!0),r}function k(e,t){for(var r=0;r<e.length;r++)if(Object(u.isDeepStrictEqual)(e[r][1],t))return!0}function _(e,t){for(var r=0;r<e.length;r++)if(Object(u.isDeepStrictEqual)(e[r][1],t))return e[r][0]}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";if("hex"===t){return e}var r=U(e);return r}function A(e,t){for(var r=0;r<e.length;r++)if(Object(u.isDeepStrictEqual)(e[r][1],t))return!0}function E(e,t){for(var r=0;r<e.length;r++)if(Object(u.isDeepStrictEqual)(e[r][1],t))return e[r][0]}function D(e,t){for(var r=0;r<e.length;r++)if(Object(u.isDeepStrictEqual)(e[r][1],t))return e[r][0]}function I(e,t){;"";if(Object.keys(e).length>0)for(var r in e){if(Object(u.isDeepStrictEqual)(e[r],t))return!0;null!==e[r]&&"object"==a()(e[r])&&O(e[r],t)}}function j(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;null===t&&(t="auto",n="auto");var a="-"+n;0===o&&(a="");var i=r+a;Object.keys(e).length>0&&Object.values(e).indexOf(t)>-1||(e[i]=t)}function T(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o={};return O(e,t)?o[r]={value:n+z(e,t)}:o[r]={value:n+t},o}function R(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t.color,o=P(n,"rgba");if(k(h,o)){var a=_(h,o);e[r+"-color"]={value:L(a)}}else e[r+"-color"]={value:o};return e[r+"-blur-radius"]={value:t.blur},e[r+"-offset-x"]={value:t.x},e[r+"-offset-y"]={value:t.y},e[r+"-spread"]={value:t.spread},e}function C(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Linear",n={},o=t;"Radial"===r&&(o.gradient.aspectRatio>0?(n.type=b[1],n["aspect-ratio"]=o.gradient.aspectRatio.toString()):n.type=b[0]);var a=Math.round(B(o.gradient.from.x,o.gradient.from.y,o.gradient.to.x,o.gradient.to.y)).toString();n.degree={value:a},n["from-x"]={value:o.gradient.from.x.toString()},n["from-y"]={value:o.gradient.from.y.toString()},n["to-x"]={value:o.gradient.to.x.toString()},n["to-y"]={value:o.gradient.to.y.toString()};var i,l=o.gradient.stops,s=1,c={},u=f(l);try{for(u.s();!(i=u.n()).done;){var p=i.value,d={},v=s.toString(),y=p.color,m=P(y,"rgba"),g=Math.round(100*p.position)/100;if(k(h,m)){var S=_(h,m);d=Object.assign(d,{color:{value:L(S)}})}else d=Object.assign(d,{color:{value:m}});W(c,[v],d=Object.assign(d,{position:{value:g}})),s++}}catch(x){u.e(x)}finally{u.f()}return j(n,c,"stops","",0),n}function L(e){for(var t="",r=0;r<M.length;r++)if(M[r][0]===e){t=M[r][1];break}return""!==t||void 0!==M?t:e}function B(e,t,r,n){return 180*Math.atan((t-n)/(e-r))/Math.PI}function U(e){var t=0,r=0,n=0,o=1;return 5==e.length?(t="0x"+e[1]+e[1],r="0x"+e[2]+e[2],n="0x"+e[3]+e[3],o="0x"+e[4]+e[4]):9==e.length&&(t="0x"+e[1]+e[2],r="0x"+e[3]+e[4],n="0x"+e[5]+e[6],o="0x"+e[7]+e[8]),"rgba("+ +t+", "+ +r+", "+ +n+", "+(o=+(o/255).toFixed(3))+")"}function q(e,t){for(var r=0;r<e.length;r++)if(e[r][0]==t[0]&&e[r][1]==t[1])return!0;return!1}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return"string"==typeof t&&(t=t.replace(r,"")),Object.keys(e).find((function(r){return e[r]===t}))}function W(e,t,r){for(var n=3===arguments.length&&t.pop(),o=0;o<t.length;o++)e=e[t[o]]=e[t[o]]||{};return n&&(e=e[n]=r),e}function G(e){var t=!1;return 0===Object.keys(e).length&&(t=!0),t}}]);if("default"===e&&"function"==typeof r)r(t);else{if("function"!=typeof r[e])throw new Error('Missing export named "'+e+'". Your command should contain something like `export function " + key +"() {}`.');r[e](t)}}catch(n){if("undefined"==typeof process||!process.listenerCount||!process.listenerCount("uncaughtException"))throw n;process.emit("uncaughtException",n,"uncaughtException")}}globalThis.onRun=__skpm_run.bind(this,"default"),globalThis.onShutdown=__skpm_run.bind(this,"onShutdown");